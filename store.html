<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Shop premium cannabis products at Big Bhudha Pablo Cannabis Club.">
  <title>Big Bhudha Pablo Cannabis Club - Store</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #1a3c34 0%, #2a5c4c 100%);
      color: #d4a017;
      font-family: 'Georgia', serif;
      margin: 0;
      padding: 0;
      line-height: 1.75;
    }
    .navbar {
      position: sticky;
      top: 0;
      background: linear-gradient(90deg, #1a3c34, #2a5c4c);
      padding: 1rem 2rem;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    .nav-menu {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
    }
    .nav-item {
      position: relative;
      color: #d4a017;
      text-decoration: none;
      font-size: 1.1rem;
      padding: 0.5rem 1rem;
      transition: color 0.3s ease, transform 0.2s ease;
    }
    .nav-item:hover {
      color: #fff;
      transform: translateY(-2px);
    }
    .dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: #2a5c4c;
      min-width: 150px;
      border-radius: 5px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .nav-item:hover .dropdown {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    .dropdown a {
      display: block;
      padding: 0.5rem 1rem;
      color: #d4a017;
      text-decoration: none;
    }
    .dropdown a:hover {
      background: #1a3c34;
      color: #fff;
    }
    .header {
      display: flex;
      flex-direction: column;
      align-items: center;
      height: auto;
      padding: 1rem 2rem;
      background: #1a3c34;
      animation: fadeIn 2s ease-in-out;
    }
    .header-top {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-bottom: 0.5rem;
    }
    .header img {
      max-width: 100px;
      height: auto;
      transition: transform 0.3s ease;
    }
    .header img:hover {
      transform: scale(1.05);
    }
    .header-subimage {
      max-width: 150px;
      height: auto;
      margin-top: -30px;
      margin-bottom: 1rem;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .shop-container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 2rem;
      text-align: center;
    }
    .banner {
      background: #00A651;
      color: #FFFFFF;
      padding: 1.5rem;
      border-radius: 10px;
      margin-bottom: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .banner h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    .banner p {
      font-size: 1.2rem;
    }
    .category-section, .offer-section, .about-section, .membership-section, .wellbeing-section, .blog-section {
      background: rgba(42, 92, 76, 0.9);
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }
    .category-item, .wellbeing-item {
      display: inline-block;
      margin: 1rem;
      padding: 1rem;
      background: #1a3c34;
      border-radius: 8px;
      width: 200px;
      transition: transform 0.3s ease;
    }
    .category-item:hover, .wellbeing-item:hover {
      transform: scale(1.05);
    }
    .category-item img, .wellbeing-item img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
    }
    .cart {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #00A651;
      color: #fff;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      max-height: 400px;
      overflow-y: auto;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    .cart-item button {
      background: #00843D;
      color: #fff;
      border: none;
      padding: 0.25rem 0.5rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .cart-item button:hover {
      background: #006633;
    }
    .checkout-btn {
      background: #d4a017;
      color: #fff;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
      width: 100%;
      margin-top: 0.5rem;
    }
    .checkout-btn:hover {
      background: #b38600;
    }
    .payment-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
    }
    .payment-modal-content {
      background: #2a5c4c;
      margin: 10% auto;
      padding: 2rem;
      border-radius: 10px;
      width: 90%;
      max-width: 500px;
      color: #d4a017;
      position: relative;
    }
    .close-modal {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.5rem;
      cursor: pointer;
    }
    @media (max-width: 768px) {
      .navbar { padding: 1rem; }
      .nav-menu { flex-direction: column; gap: 1rem; }
      .dropdown { position: static; transform: none; opacity: 1; visibility: visible; }
      .header { height: auto; }
      .header-top { flex-direction: column; align-items: center; }
      .header img { max-width: 100px; margin: 0.5rem 0; }
      .header-subimage { max-width: 150px; margin-top: -20px; }
      .shop-container { padding: 1rem; }
      .category-item, .wellbeing-item { width: 100%; margin: 0.5rem 0; }
      .banner h1 { font-size: 2rem; }
      .cart { bottom: 10px; right: 10px; width: 90%; }
    }
  </style>
</head>
<body class="min-h-screen">
  <nav class="navbar">
    <div class="nav-menu">
      <a href="index.html" class="nav-item">Home</a>
      <a href="#shop" class="nav-item">Shop</a>
      <a href="#about" class="nav-item">About Us</a>
      <a href="#membership" class="nav-item">Membership</a>
      <a href="#wellbeing" class="nav-item">Wellbeing</a>
      <a href="#blog" class="nav-item">Blog</a>
      <a href="ikhokha.html" class="nav-item">iKhokha Payment</a>
    </div>
  </nav>

  <header class="header text-center">
    <div class="header-top">
      <img src="./assets/big-bhudha.png" alt="Left Logo" class="logo-left">
      <h1 class="text-4xl font-bold mx-auto">Big Bhudha Pablo Cannabis Club - Store</h1>
      <img src="./assets/big-bhudha.png" alt="Right Logo" class="logo-right">
    </div>
    <img src="./assets/logo.jpg" alt="Logo Image" class="header-subimage">
  </header>

  <div class="shop-container">
    <div class="banner">
      <h1>Shop with Confidence</h1>
      <p>Discover premium cannabis products at Big Bhudha Pablo Cannabis Club. Enjoy exclusive offers and secure, fast online shopping powered by iKhokha. Launching soon on July 1, 2025!</p>
      <img src="./assets/offer-banner-placeholder.jpg" alt="Special Offer Banner" class="mt-2" style="max-width: 100%; border-radius: 5px;">
    </div>

    <div class="category-section" id="shop">
      <h2 class="text-2xl font-semibold mb-4">Shop Categories</h2>
      <div class="category-item">
        <img src="./assets/bbpcc-delicious-edibles.jpg" alt="Edibles">
        <h3>Edibles</h3>
        <p>Explore our delicious cannabis-infused edibles, crafted with organic ingredients for a flavorful and therapeutic experience.</p>
        <button class="add-to-cart bg-green-700 text-white px-2 py-1 rounded" data-product="edibles">Add to Cart - R150</button>
      </div>
      <div class="category-item">
        <img src="./assets/bbpcc-premium-vapes.jpg" alt="Vapes">
        <h3>Vapes</h3>
        <p>Browse our high-quality cannabis vapes, designed for smooth inhalation with cutting-edge technology and potent blends.</p>
        <button class="add-to-cart bg-green-700 text-white px-2 py-1 rounded" data-product="vapes">Add to Cart - R200</button>
      </div>
      <div class="category-item">
        <img src="./assets/bbpcc-premium-oils.jpg" alt="Oils">
        <h3>Oils</h3>
        <p>Shop our premium cannabis oils, ideal for wellness, relaxation, and customizable dosing in various strengths.</p>
        <button class="add-to-cart bg-green-700 text-white px-2 py-1 rounded" data-product="oils">Add to Cart - R180</button>
      </div>
      <div class="category-item">
        <img src="./assets/bbpcc-flower-catalogue.jpg" alt="Flower + Pre-rolls">
        <h3>Flower + Pre-rolls</h3>
        <p>Explore our top-tier cannabis flowers and pre-rolls, organically cultivated for maximum potency and purity.</p>
        <button class="add-to-cart bg-green-700 text-white px-2 py-1 rounded" data-product="flower">Add to Cart - R250</button>
      </div>
    </div>

    <div class="offer-section">
      <h2 class="text-2xl font-semibold mb-4">Special Offer</h2>
      <p>Choose 3, only pay for 2! The cheapest item is on us when you buy any three products—mix and match your favorites. Discount applied at checkout. Valid until June 30, 2025. Terms and Conditions apply.</p>
    </div>

    <div class="about-section" id="about">
      <h2 class="text-2xl font-semibold mb-4">About Us</h2>
      <p>Welcome to Big Bhudha Pablo Cannabis Club, South Africa’s leading destination for premium cannabis products since 2024. We are committed to providing high-quality CBD and THC edibles, vapes, oils, flowers, and pre-rolls, all crafted with innovation, organic cultivation, and exceptional care. Our mission is to foster a legal, private cannabis community in the Eastern Cape.</p>
    </div>

    <div class="membership-section" id="membership">
      <h2 class="text-2xl font-semibold mb-4">Membership Benefits</h2>
      <p>As a distinguished member, gain privileged access to top-tier cannabis products, including exclusive THC offerings. Membership is free and offers:</p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
        <div class="wellbeing-item">
          <img src="./assets/membership-badge-placeholder.jpg" alt="Membership Badge">
          <h3>Member Products</h3>
          <p>Exclusive access to premium THC products and limited-edition strains.</p>
        </div>
        <div class="wellbeing-item">
          <img src="./assets/membership-badge-placeholder.jpg" alt="Member Care">
          <h3>Member Care</h3>
          <p>Enjoy special offers, loyalty rewards, and personalized support.</p>
        </div>
        <div class="wellbeing-item">
          <img src="./assets/membership-badge-placeholder.jpg" alt="Thoughtful Gifts">
          <h3>Thoughtful Gifts</h3>
          <p>Receive personalized gifts and exclusive givebacks as a token of appreciation.</p>
        </div>
      </div>
    </div>

    <div class="wellbeing-section" id="wellbeing">
      <h2 class="text-2xl font-semibold mb-4">Essential Wellbeing</h2>
      <p>Discover the transformative benefits of cannabis for your health and relaxation. Our products are formulated to address:</p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
        <div class="wellbeing-item">
          <img src="./assets/wellbeing-sleep-placeholder.jpg" alt="Sleep Aid">
          <h3>Sleep Aid</h3>
          <p>Products designed to promote deep, restful sleep with CBD, THC, and CBN blends.</p>
        </div>
        <div class="wellbeing-item">
          <img src="./assets/wellbeing-relax-placeholder.jpg" alt="Relax">
          <h3>Relax</h3>
          <p>Ease anxiety and enjoy blissful relaxation with our specially crafted formulations.</p>
        </div>
        <div class="wellbeing-item">
          <img src="./assets/wellbeing-pain-placeholder.jpg" alt="Pain Relief">
          <h3>Pain Relief</h3>
          <p>Manage pain and inflammation naturally with our effective cannabis solutions.</p>
        </div>
      </div>
    </div>

    <div class="blog-section" id="blog">
      <h2 class="text-2xl font-semibold mb-4">Our Blog</h2>
      <p>Stay informed with our latest posts on cannabis trends, cultivation tips, and industry news. Check back for updates on Cannabis 101 and more.</p>
    </div>
  </div>

  <div class="cart">
    <h3>Shopping Cart</h3>
    <div id="cart-items"></div>
    <p>Total: R<span id="cart-total">0</span></p>
    <button class="checkout-btn" onclick="showPaymentModal()">Checkout</button>
  </div>

  <div id="payment-modal" class="payment-modal">
    <div class="payment-modal-content">
      <span class="close-modal" onclick="hidePaymentModal()">×</span>
      <h3>Secure Checkout</h3>
      <p>Generate your iK Pay Link for a secure payment. Total: R<span id="modal-total">0</span></p>
      <p>Learn more about iKhokha <a href="ikhokha.html" class="text-blue-400 underline">here</a>.</p>
      <input type="text" id="customer-email" placeholder="Enter your email" class="w-full p-2 mb-2 bg-gray-800 text-white border border-gray-600 rounded">
      <button class="bg-green-700 text-white px-4 py-2 rounded" onclick="generatePaymentLink()">Generate Payment Link</button>
      <p id="payment-link" class="mt-2"></p>
    </div>
  </div>

  <footer class="bg-green-900 text-white p-4 text-center">
    <p>Age Verification: You must be 18 years or older to access this website. By entering, you agree to our Terms of Use and Privacy Policy.</p>
    <p>Subscribe to our mailing list and get R100 off your first order of R500 or more!</p>
    <p>Follow us on <a href="#" class="text-yellow-400">Instagram</a></p>
    <p>© 2025 Big Bhudha Pablo Cannabis Club. All rights reserved.</p>
  </footer>

  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script>
    // Cart Management
    let cart = JSON.parse(localStorage.getItem('cart')) || {};

    document.querySelectorAll('.add-to-cart').forEach(button => {
      button.addEventListener('click', () => {
        const product = button.getAttribute('data-product');
        cart[product] = (cart[product] || 0) + 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCart();
      });
    });

    function updateCart() {
      const cartItems = document.getElementById('cart-items');
      cartItems.innerHTML = '';
      let total = 0;

      for (const [product, quantity] of Object.entries(cart)) {
        if (quantity > 0) {
          let price = { edibles: 150, vapes: 200, oils: 180, flower: 250 }[product];
          const itemTotal = price * quantity;
          total += itemTotal;
          const discount = applyOffer();
          total = Math.max(0, total - discount); // Ensure total doesn't go negative

          cartItems.innerHTML += `
            <div class="cart-item">
              <span>${product.charAt(0).toUpperCase() + product.slice(1)} (x${quantity}) - R${itemTotal}</span>
              <div>
                <button onclick="changeQuantity('${product}', -1)">-</button>
                <button onclick="changeQuantity('${product}', 1)">+</button>
              </div>
            </div>
          `;
        }
      }

      document.getElementById('cart-total').textContent = total.toFixed(2);
      document.getElementById('modal-total').textContent = total.toFixed(2);
    }

    function changeQuantity(product, delta) {
      cart[product] = Math.max(0, (cart[product] || 0) + delta);
      if (cart[product] === 0) delete cart[product];
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCart();
    }

    function applyOffer() {
      const items = Object.keys(cart).length;
      if (items >= 3) {
        const prices = Object.keys(cart).map(p => ({ p, v: { edibles: 150, vapes: 200, oils: 180, flower: 250 }[p] * cart[p] }));
        prices.sort((a, b) => a.v - b.v);
        return prices[0].v; // Cheapest item free
      }
      return 0;
    }

    // Payment Modal
    function showPaymentModal() {
      document.getElementById('payment-modal').style.display = 'block';
    }

    function hidePaymentModal() {
      document.getElementById('payment-modal').style.display = 'none';
    }

    function generatePaymentLink() {
      const email = document.getElementById('customer-email').value;
      if (!email) {
        alert('Please enter your email.');
        return;
      }
      const total = parseFloat(document.getElementById('cart-total').textContent);
      const link = `https://pay.ikhokha.com/link?amount=${total}&email=${encodeURIComponent(email)}&ref=BigBhudhaStore`;
      document.getElementById('payment-link').innerHTML = `<a href="${link}" target="_blank" class="text-blue-400 underline">Click to Pay with iK Pay Link</a>`;
      alert(`Payment link generated. Total: R${total}. Check your email for confirmation. (Simulated)`);
    }

    // Initialize
    updateCart();
    window.addEventListener('storage', updateCart);
  </script>
</body>
</html>
